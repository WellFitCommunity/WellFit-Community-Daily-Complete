{
  "mcpServers": {
    "github": {
      "url": "https://api.githubcopilot.com/mcp/",
      "transport": "sse",
      "description": "GitHub MCP server for repository operations",
      "enabled": true
    },
    "claude": {
      "command": "node",
      "args": ["./supabase/functions/mcp-claude-server/index.js"],
      "description": "Self-hosted Claude MCP server for AI operations",
      "enabled": true,
      "env": {
        "ANTHROPIC_API_KEY": "${ANTHROPIC_API_KEY}",
        "SUPABASE_URL": "${VITE_SUPABASE_URL}",
        "SUPABASE_SERVICE_ROLE_KEY": "${SB_SECRET_KEY}"
      }
    },
    "postgres": {
      "transport": "http",
      "url": "${VITE_SUPABASE_URL}/functions/v1/mcp-postgres-server",
      "description": "PostgreSQL MCP server for safe database queries",
      "enabled": true,
      "env": {
        "SUPABASE_URL": "${VITE_SUPABASE_URL}",
        "SUPABASE_SERVICE_ROLE_KEY": "${SB_SECRET_KEY}"
      },
      "tools": [
        "execute_query",
        "list_queries",
        "get_table_schema",
        "get_row_count"
      ],
      "whitelistedQueries": [
        "get_patient_count_by_risk",
        "get_readmission_risk_summary",
        "get_encounter_summary",
        "get_sdoh_flags_summary",
        "get_medication_adherence_stats",
        "get_claims_status_summary",
        "get_billing_revenue_summary",
        "get_care_plan_summary",
        "get_task_completion_rate",
        "get_referral_summary",
        "get_bed_availability",
        "get_shift_handoff_summary",
        "get_dashboard_metrics",
        "get_quality_metrics"
      ]
    },
    "edge-functions": {
      "transport": "http",
      "url": "${VITE_SUPABASE_URL}/functions/v1/mcp-edge-functions-server",
      "description": "Edge Functions MCP server for workflow orchestration",
      "enabled": true,
      "env": {
        "SUPABASE_URL": "${VITE_SUPABASE_URL}",
        "SUPABASE_SERVICE_ROLE_KEY": "${SB_SECRET_KEY}"
      },
      "tools": [
        "invoke_function",
        "list_functions",
        "get_function_info",
        "batch_invoke"
      ],
      "categories": [
        "analytics",
        "reports",
        "workflow",
        "integration",
        "utility"
      ]
    },
    "medical-codes": {
      "transport": "http",
      "url": "${VITE_SUPABASE_URL}/functions/v1/mcp-medical-codes-server",
      "description": "Medical Codes MCP server for CPT, ICD-10, HCPCS lookups",
      "enabled": true,
      "env": {
        "SUPABASE_URL": "${VITE_SUPABASE_URL}",
        "SUPABASE_SERVICE_ROLE_KEY": "${SB_SECRET_KEY}"
      },
      "tools": [
        "search_cpt",
        "search_icd10",
        "search_hcpcs",
        "get_modifiers",
        "validate_code_combination",
        "check_bundling",
        "get_code_details",
        "suggest_codes",
        "get_sdoh_codes"
      ]
    },
    "fhir": {
      "transport": "http",
      "url": "${VITE_SUPABASE_URL}/functions/v1/mcp-fhir-server",
      "description": "FHIR R4 MCP server for healthcare interoperability",
      "enabled": true,
      "env": {
        "SUPABASE_URL": "${VITE_SUPABASE_URL}",
        "SUPABASE_SERVICE_ROLE_KEY": "${SB_SECRET_KEY}"
      },
      "tools": [
        "export_patient_bundle",
        "get_resource",
        "search_resources",
        "create_resource",
        "update_resource",
        "validate_resource",
        "get_patient_summary",
        "get_observations",
        "get_medication_list",
        "get_condition_list",
        "get_sdoh_assessments",
        "get_care_team",
        "list_ehr_connections",
        "trigger_ehr_sync"
      ],
      "supportedResources": [
        "Patient",
        "MedicationRequest",
        "Condition",
        "DiagnosticReport",
        "Procedure",
        "Observation",
        "Immunization",
        "CarePlan",
        "CareTeam",
        "Practitioner",
        "PractitionerRole",
        "Encounter",
        "DocumentReference",
        "AllergyIntolerance",
        "Goal",
        "Location",
        "Organization",
        "Medication"
      ],
      "ehrSystems": [
        "epic",
        "cerner",
        "allscripts",
        "custom"
      ]
    },
    "hl7-x12": {
      "transport": "http",
      "url": "${VITE_SUPABASE_URL}/functions/v1/mcp-hl7-x12-server",
      "description": "HL7/X12 Transformer MCP server for healthcare message conversion",
      "enabled": true,
      "env": {
        "SUPABASE_URL": "${VITE_SUPABASE_URL}",
        "SUPABASE_SERVICE_ROLE_KEY": "${SB_SECRET_KEY}"
      },
      "tools": [
        "parse_hl7",
        "hl7_to_fhir",
        "generate_hl7_ack",
        "validate_hl7",
        "generate_837p",
        "validate_x12",
        "parse_x12",
        "x12_to_fhir",
        "get_message_types"
      ],
      "supportedHL7Types": [
        "ADT",
        "ORU",
        "ORM",
        "ACK"
      ],
      "supportedHL7Events": [
        "A01",
        "A02",
        "A03",
        "A04",
        "A08",
        "R01"
      ],
      "supportedX12Types": [
        "837P",
        "837I",
        "835",
        "270",
        "271",
        "276",
        "277",
        "278"
      ]
    },
    "clearinghouse": {
      "transport": "http",
      "url": "${VITE_SUPABASE_URL}/functions/v1/mcp-clearinghouse-server",
      "description": "Clearinghouse MCP server for claims submission and eligibility",
      "enabled": true,
      "env": {
        "SUPABASE_URL": "${VITE_SUPABASE_URL}",
        "SUPABASE_SERVICE_ROLE_KEY": "${SB_SECRET_KEY}"
      },
      "tools": [
        "submit_claim",
        "check_claim_status",
        "verify_eligibility",
        "process_remittance",
        "submit_prior_auth",
        "test_connection",
        "get_payer_list",
        "get_submission_stats",
        "get_rejection_reasons"
      ],
      "supportedProviders": [
        "waystar",
        "change_healthcare",
        "availity"
      ],
      "supportedTransactions": [
        "837P",
        "837I",
        "270/271",
        "276/277",
        "278",
        "835"
      ]
    }
  },
  "features": {
    "promptCaching": true,
    "auditLogging": true,
    "errorSanitization": true,
    "queryWhitelisting": true,
    "functionSandboxing": true,
    "multiTenantIsolation": true
  },
  "security": {
    "requireAuth": true,
    "auditAllCalls": true,
    "rateLimiting": {
      "enabled": true,
      "maxRequestsPerMinute": 60
    },
    "blockedFunctions": [
      "register",
      "enrollClient",
      "admin-create-user",
      "delete-user",
      "service-role-query"
    ]
  }
}
